{
	"info": {
		"_postman_id": "restaurant-mgmt-001",
		"name": "Restaurant Management System API",
		"description": "Complete API collection for Restaurant Management System including Authentication, Restaurant Management, and Online Orders",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "restaurant-system"
	},
	"item": [
		{
			"name": "1. Authentication",
			"item": [
				{
					"name": "Login - Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Save access token to environment",
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access_token);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"    console.log(\"Token saved:\", jsonData.access_token);",
									"}",
									"",
									"// Test status code",
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Test response structure",
									"pm.test(\"Response has access_token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('access_token');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password\"\n}"
						},
						"url": {
							"raw": "{{auth_url}}/api/v1/auth/login",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Login as master admin user"
					},
					"response": []
				},
				{
					"name": "Login - Chef",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access_token);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"adminchef1\",\n    \"password\": \"password\"\n}"
						},
						"url": {
							"raw": "{{auth_url}}/api/v1/auth/login",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Login as chef user"
					},
					"response": []
				},
				{
					"name": "Login - Restaurant Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"access_token\", jsonData.access_token);",
									"    pm.environment.set(\"user_id\", jsonData.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"adminres\",\n    \"password\": \"password\"\n}"
						},
						"url": {
							"raw": "{{auth_url}}/api/v1/auth/login",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						},
						"description": "Login as restaurant admin user"
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{auth_url}}/api/v1/users/me",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"me"
							]
						},
						"description": "Get current authenticated user details"
					},
					"response": []
				},
				{
					"name": "Signup - New User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"newuser\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"password123\",\n    \"role\": \"customer\"\n}"
						},
						"url": {
							"raw": "{{auth_url}}/api/v1/auth/signup",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"signup"
							]
						},
						"description": "Register a new user"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{auth_url}}/api/v1/auth/logout",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"logout"
							]
						},
						"description": "Logout current user"
					},
					"response": []
				}
			],
			"description": "Authentication and user management endpoints"
		},
		{
			"name": "2. Restaurant Service",
			"item": [
				{
					"name": "Restaurants",
					"item": [
						{
							"name": "List All Restaurants",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Save first restaurant ID",
											"if (pm.response.code === 200) {",
											"    var jsonData = pm.response.json();",
											"    if (jsonData.length > 0) {",
											"        pm.environment.set(\"restaurant_id\", jsonData[0].id);",
											"        console.log(\"Restaurant ID saved:\", jsonData[0].id);",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants"
									]
								},
								"description": "Get list of all restaurants"
							},
							"response": []
						},
						{
							"name": "Create Restaurant",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Save created restaurant ID",
											"if (pm.response.code === 201) {",
											"    var jsonData = pm.response.json();",
											"    pm.environment.set(\"restaurant_id\", jsonData.id);",
											"    console.log(\"New Restaurant ID:\", jsonData.id);",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Test Restaurant via Postman\",\n    \"address\": \"123 Test Street, Test City\",\n    \"phone\": \"+1-555-TEST-001\",\n    \"email\": \"test@restaurant.com\",\n    \"description\": \"A test restaurant created via Postman\",\n    \"cuisine_type\": \"International\",\n    \"opening_hours\": \"9:00 AM - 10:00 PM\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants"
									]
								},
								"description": "Create a new restaurant"
							},
							"response": []
						},
						{
							"name": "Get Restaurant by ID",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}"
									]
								},
								"description": "Get restaurant details by ID"
							},
							"response": []
						},
						{
							"name": "Update Restaurant",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Updated Restaurant Name\",\n    \"address\": \"456 Updated Street\",\n    \"phone\": \"+1-555-UPDATED\",\n    \"email\": \"updated@restaurant.com\",\n    \"description\": \"Updated description\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}"
									]
								},
								"description": "Update restaurant details"
							},
							"response": []
						},
						{
							"name": "Delete Restaurant",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}"
									]
								},
								"description": "Delete restaurant"
							},
							"response": []
						}
					]
				},
				{
					"name": "Tables",
					"item": [
						{
							"name": "List Tables for Restaurant",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Save first table ID",
											"if (pm.response.code === 200) {",
											"    var jsonData = pm.response.json();",
											"    if (jsonData.length > 0) {",
											"        pm.environment.set(\"table_id\", jsonData[0].id);",
											"        console.log(\"Table ID saved:\", jsonData[0].id);",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}/tables",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}",
										"tables"
									]
								},
								"description": "Get all tables for a restaurant"
							},
							"response": []
						},
						{
							"name": "Create Table",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201) {",
											"    var jsonData = pm.response.json();",
											"    pm.environment.set(\"table_id\", jsonData.id);",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"table_number\": \"T-101\",\n    \"seats\": 4,\n    \"location\": \"Main Floor\",\n    \"is_available\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}/tables",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}",
										"tables"
									]
								},
								"description": "Create a new table"
							},
							"response": []
						}
					]
				},
				{
					"name": "Menu Items",
					"item": [
						{
							"name": "List Menu Items",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Save first menu item ID",
											"if (pm.response.code === 200) {",
											"    var jsonData = pm.response.json();",
											"    if (jsonData.length > 0) {",
											"        pm.environment.set(\"menu_item_id\", jsonData[0].id);",
											"        console.log(\"Menu Item ID saved:\", jsonData[0].id);",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}/menu",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}",
										"menu"
									]
								},
								"description": "Get menu items for restaurant"
							},
							"response": []
						},
						{
							"name": "Create Menu Item",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Margherita Pizza\",\n    \"description\": \"Classic pizza with tomato, mozzarella, and basil\",\n    \"price\": 12.99,\n    \"category\": \"Main Course\",\n    \"is_available\": true,\n    \"preparation_time\": 15,\n    \"is_vegetarian\": true,\n    \"is_vegan\": false,\n    \"allergens\": [\"dairy\", \"gluten\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/v1/restaurants/{{restaurant_id}}/menu",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}",
										"menu"
									]
								},
								"description": "Create a new menu item"
							},
							"response": []
						}
					]
				}
			],
			"description": "Restaurant, table, and menu management endpoints"
		},
		{
			"name": "3. Order Service (Online Orders)",
			"item": [
				{
					"name": "Orders",
					"item": [
						{
							"name": "Create Order (Public)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Save order ID",
											"if (pm.response.code === 201) {",
											"    var jsonData = pm.response.json();",
											"    pm.environment.set(\"order_id\", jsonData.id);",
											"    pm.environment.set(\"order_number\", jsonData.order_number);",
											"    console.log(\"Order created:\", jsonData.order_number);",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"restaurant_id\": \"{{restaurant_id}}\",\n    \"table_id\": \"{{table_id}}\",\n    \"items\": [\n        {\n            \"menu_item_id\": \"{{menu_item_id}}\",\n            \"quantity\": 2,\n            \"special_requests\": \"No onions please\",\n            \"contributor_name\": \"John Doe\"\n        }\n    ],\n    \"special_instructions\": \"Please deliver to table near window\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/orders",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders"
									]
								},
								"description": "Create a new order (No authentication required - public endpoint for customers)"
							},
							"response": []
						},
						{
							"name": "List Orders for Restaurant",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{order_url}}/api/v1/restaurants/{{restaurant_id}}/orders?status=PENDING&limit=50",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}",
										"orders"
									],
									"query": [
										{
											"key": "status",
											"value": "PENDING",
											"description": "Filter by status (PENDING, CONFIRMED, PREPARING, READY, SERVED, COMPLETED, CANCELLED)"
										},
										{
											"key": "table_id",
											"value": "{{table_id}}",
											"description": "Filter by table",
											"disabled": true
										},
										{
											"key": "limit",
											"value": "50",
											"description": "Max number of results"
										}
									]
								},
								"description": "List all orders for a restaurant (Staff only)"
							},
							"response": []
						},
						{
							"name": "Get Order by ID",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}"
									]
								},
								"description": "Get order details (Public - for customer order tracking)"
							},
							"response": []
						},
						{
							"name": "Update Order Status - CONFIRMED",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"CONFIRMED\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}/status",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}",
										"status"
									]
								},
								"description": "Update order status to CONFIRMED (Staff only)"
							},
							"response": []
						},
						{
							"name": "Update Order Status - PREPARING",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"PREPARING\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}/status",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}",
										"status"
									]
								},
								"description": "Update order status to PREPARING"
							},
							"response": []
						},
						{
							"name": "Update Order Status - READY",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"READY\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}/status",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}",
										"status"
									]
								},
								"description": "Update order status to READY"
							},
							"response": []
						},
						{
							"name": "Update Order Status - SERVED",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"SERVED\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}/status",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}",
										"status"
									]
								},
								"description": "Update order status to SERVED"
							},
							"response": []
						},
						{
							"name": "Update Order Status - COMPLETED",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"status\": \"COMPLETED\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}/status",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}",
										"status"
									]
								},
								"description": "Update order status to COMPLETED"
							},
							"response": []
						},
						{
							"name": "Cancel Order",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{order_url}}/api/v1/orders/{{order_id}}",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"orders",
										"{{order_id}}"
									]
								},
								"description": "Cancel an order (Public endpoint)"
							},
							"response": []
						}
					],
					"description": "Order management endpoints - Create and manage customer orders"
				},
				{
					"name": "Table Sessions (Collaborative Ordering)",
					"item": [
						{
							"name": "Create Table Session",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// Save session token",
											"if (pm.response.code === 201) {",
											"    var jsonData = pm.response.json();",
											"    pm.environment.set(\"session_token\", jsonData.session_token);",
											"    pm.environment.set(\"session_id\", jsonData.id);",
											"    console.log(\"Session token saved:\", jsonData.session_token);",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"restaurant_id\": \"{{restaurant_id}}\",\n    \"table_id\": \"{{table_id}}\",\n    \"participant_name\": \"John Doe\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/sessions",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"sessions"
									]
								},
								"description": "Create a new collaborative ordering session (No auth required - first customer starts session)"
							},
							"response": []
						},
						{
							"name": "Join Table Session",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"participant_name\": \"Jane Smith\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/sessions/{{session_token}}/join",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"sessions",
										"{{session_token}}",
										"join"
									]
								},
								"description": "Join an existing table session (Other customers at same table)"
							},
							"response": []
						},
						{
							"name": "Add Item to Session",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"menu_item_id\": \"{{menu_item_id}}\",\n    \"quantity\": 1,\n    \"special_requests\": \"Extra cheese\",\n    \"contributor_name\": \"John Doe\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/sessions/{{session_token}}/items",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"sessions",
										"{{session_token}}",
										"items"
									]
								},
								"description": "Add item to session's pending order"
							},
							"response": []
						},
						{
							"name": "Get Session Details",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{order_url}}/api/v1/sessions/{{session_token}}",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"sessions",
										"{{session_token}}"
									]
								},
								"description": "Get current session status and pending items"
							},
							"response": []
						},
						{
							"name": "Submit Session Order",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{order_url}}/api/v1/sessions/{{session_token}}/submit",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"sessions",
										"{{session_token}}",
										"submit"
									]
								},
								"description": "Submit collaborative order and lock session"
							},
							"response": []
						},
						{
							"name": "Close Session",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{order_url}}/api/v1/sessions/{{session_token}}",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"sessions",
										"{{session_token}}"
									]
								},
								"description": "Close/end the table session"
							},
							"response": []
						}
					],
					"description": "Table session endpoints for collaborative ordering (multiple customers at same table)"
				},
				{
					"name": "Assistance Requests",
					"item": [
						{
							"name": "Request Assistance - Waiter",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201) {",
											"    var jsonData = pm.response.json();",
											"    pm.environment.set(\"assistance_id\", jsonData.id);",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"restaurant_id\": \"{{restaurant_id}}\",\n    \"table_id\": \"{{table_id}}\",\n    \"request_type\": \"waiter\",\n    \"message\": \"Need water please\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/assistance",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"assistance"
									]
								},
								"description": "Request waiter assistance (No auth required - public endpoint)"
							},
							"response": []
						},
						{
							"name": "Request Assistance - Bill",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"restaurant_id\": \"{{restaurant_id}}\",\n    \"table_id\": \"{{table_id}}\",\n    \"request_type\": \"bill\",\n    \"message\": \"Ready to pay\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/assistance",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"assistance"
									]
								},
								"description": "Request bill"
							},
							"response": []
						},
						{
							"name": "Request Assistance - Complaint",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"restaurant_id\": \"{{restaurant_id}}\",\n    \"table_id\": \"{{table_id}}\",\n    \"request_type\": \"complaint\",\n    \"message\": \"Food is cold\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/assistance",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"assistance"
									]
								},
								"description": "Submit complaint"
							},
							"response": []
						},
						{
							"name": "List Assistance Requests",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{order_url}}/api/v1/restaurants/{{restaurant_id}}/assistance?resolved=false&limit=50",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"restaurants",
										"{{restaurant_id}}",
										"assistance"
									],
									"query": [
										{
											"key": "resolved",
											"value": "false",
											"description": "Filter by resolved status"
										},
										{
											"key": "table_id",
											"value": "{{table_id}}",
											"description": "Filter by table",
											"disabled": true
										},
										{
											"key": "limit",
											"value": "50"
										}
									]
								},
								"description": "List assistance requests (Staff only)"
							},
							"response": []
						},
						{
							"name": "Get Assistance Request",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{order_url}}/api/v1/assistance/{{assistance_id}}",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"assistance",
										"{{assistance_id}}"
									]
								},
								"description": "Get specific assistance request"
							},
							"response": []
						},
						{
							"name": "Resolve Assistance Request",
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}",
										"type": "text"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"resolved_by\": \"{{user_id}}\"\n}"
								},
								"url": {
									"raw": "{{order_url}}/api/v1/assistance/{{assistance_id}}/resolve",
									"host": [
										"{{order_url}}"
									],
									"path": [
										"api",
										"v1",
										"assistance",
										"{{assistance_id}}",
										"resolve"
									]
								},
								"description": "Mark assistance request as resolved (Staff only)"
							},
							"response": []
						}
					],
					"description": "Customer assistance request endpoints (waiter, bill, complaints)"
				}
			],
			"description": "Online ordering service - Orders, table sessions, and assistance requests"
		},
		{
			"name": "Health Checks",
			"item": [
				{
					"name": "API Gateway Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check API Gateway health"
					},
					"response": []
				},
				{
					"name": "Auth Service Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{auth_url}}/health",
							"host": [
								"{{auth_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check Auth Service health"
					},
					"response": []
				},
				{
					"name": "Restaurant Service Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{restaurant_url}}/health",
							"host": [
								"{{restaurant_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check Restaurant Service health"
					},
					"response": []
				},
				{
					"name": "Order Service Health",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_url}}/health",
							"host": [
								"{{order_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check Order Service health"
					},
					"response": []
				}
			],
			"description": "Health check endpoints for all services"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global pre-request script",
					"console.log('Request to:', pm.request.url);"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test script",
					"console.log('Response status:', pm.response.code);"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8001",
			"type": "string"
		},
		{
			"key": "auth_url",
			"value": "http://localhost:8001",
			"type": "string"
		},
		{
			"key": "restaurant_url",
			"value": "http://localhost:8003",
			"type": "string"
		},
		{
			"key": "order_url",
			"value": "http://localhost:8004",
			"type": "string"
		}
	]
}
